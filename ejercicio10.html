<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
</head>
<body>
    <header class="wrap p-3 mb-2 bg-primary text-white">
        <h1>Ejercicio Numero 10 de condicionanles</h1>
    </header>
    <main class="wrap p-3 mb-2 bg-body-secondary text-black">
        <h3>Elige que deseas estudiar</h3><br>                
        <form id="elementos" class="formulario">
            <div class="radio">
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
                <input type="radio" name="rama" id="course" value="1">
                <label for="course">Course</label>
                <br>
                <input type="radio" name="rama" id="carrera" value="2">
                <label for="carrera">Carrera</label>
                <br>
                <input type="radio" name="rama" id="master" value="3">
                <label for="master">Master</label> 
                <br>
                <hr>
                <h3>Tienes algun tipo de beca</h3>
                <input type="radio" name="rama2" id="ok" value="4">
                <label for="ok">Ok</label> 
                <br>
                <input type="radio" name="rama2" id="google" value="5">
                <label for="google">Beca Google</label> 
                <br>
                <input type="radio" name="rama2" id="jesua" value="6">
                <label for="jesua">Beca Jesua</label>                 
                <hr>
                <h3 id="respuesta"></h3>
                <hr>
                <h3 id="total"></h3>
            </div>
        </main>
        <footer class="wrap p-3 mb-2 bg-info">
            <h3>Realizado por DFG</h3>
            <a href="index.html" class="btn btn-primary btn-lg" data-bs-toggle="button">Salir</a>
        </footer>    
    <script>
        var valor = '';
        var valor2 ='';
        var costoCourse=4999;
        var costoCarrera=3999;
        var costoMaster=2999;
        var costoTotal=0;
        var texto = 'El costo por mes sin descuento es de ';
        var texto2 = 'El costo total del curso sin beca es de ';
        var texto3 = 'El costo por mes con descuento es de ';
        var texto4 = 'El costo total del curso con beca es de ';
        //var cadena1=`El costo por mes sin descuento es de ${new Intl.NumberFormat('es-MX', { style: 'currency', currency: 'MXN' }).format(costoTotal)}`;
        let pagar = (texto, carrera) => `${texto} ${new Intl.NumberFormat('es-MX', { style: 'currency', currency: 'MXN' }).format(carrera)}`;
    $("input[name='rama']" ).on('change', function () {
        valor = $(this).val();
        if(valor==1){
            costoTotal=costoCourse;
            document.getElementById('respuesta').innerHTML= pagar(texto, costoTotal);  
            document.getElementById('total').innerHTML=pagar(texto2, costoTotal*2);  
        }
        else if(valor==2){
            costoTotal=costoCarrera;
            document.getElementById('respuesta').innerHTML=pagar(texto, costoTotal); 
            document.getElementById('total').innerHTML=pagar(texto2, costoTotal*6);
        }            
        else if(valor==3){
            costoTotal=costoMaster;
            document.getElementById('respuesta').innerHTML=pagar(texto, costoTotal); 
            document.getElementById('total').innerHTML=pagar(texto2, costoTotal*12);
        }        
        $("input[name='rama2']" ).on('change', function () {
                valor2 = $(this).val();
                if(valor2==4){
                    costoTotal=costoTotal * 0.8;
                    document.getElementById('respuesta').innerHTML=pagar(texto3, costoTotal);
                    document.getElementById('total').innerHTML=pagar(texto4, costoTotal*2);  
                }
                if(valor2==5){
                    costoTotal=costoTotal * 0.85;
                    document.getElementById('respuesta').innerHTML=pagar(texto3, costoTotal);
                    document.getElementById('total').innerHTML=pagar(texto4, costoTotal*6);  
                }
                if(valor2==6){
                    costoTotal=costoTotal * 0.5;
                    document.getElementById('respuesta').innerHTML=pagar(texto3, costoTotal);
                    document.getElementById('total').innerHTML=pagar(texto4, costoTotal*12);  
                }                    
        });
    });
    //https://es.stackoverflow.com/questions/205681/guardar-value-de-un-input-radio-en-una-variable-de-javascript
    //https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Functions/Arrow_functions
    //https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat
    //https://www.youtube.com/watch?v=HVEkbCZAuqA
    </script>    
</body>
</html>